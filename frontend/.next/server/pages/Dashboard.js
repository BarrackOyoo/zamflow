"use strict";(()=>{var a={};a.id=28,a.ids=[28,220],a.modules={361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},671:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>k}),c(8732);var e=c(2015),f=c(6958),g=c(4337),h=c(4022),i=a([f,g,h]);[f,g,h]=i.then?(await i)():i;let j=(0,e.createContext)({}),k=()=>{let a=(0,e.useContext)(j);if(!a)throw Error("useAuth must be used within an AuthProvider");return a};d()}catch(a){d(a)}})},802:a=>{a.exports=import("clsx")},1514:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>m});var e=c(8732),f=c(2015),g=c(671),h=c(6339),i=c(4337),j=c(4022),k=c(1302),l=a([g,h,i,j]);[g,h,i,j]=l.then?(await l)():l;let m=()=>{let{userProfile:a}=(0,g.A)(),[b,c]=(0,f.useState)({totalSales:0,totalProducts:0,recentSales:[],lowStockProducts:[],totalRevenue:0,salesThisMonth:0}),[d,l]=(0,f.useState)(!0);(0,f.useEffect)(()=>{let a=[],b=(0,i.query)((0,i.collection)(j.db,"sales"),(0,i.orderBy)("saleDate","desc")),d=(0,i.onSnapshot)(b,a=>{let b=a.docs.map(a=>({id:a.id,...a.data()})),d=b.reduce((a,b)=>a+(b.totalPrice||0),0),e=new Date().getMonth(),f=new Date().getFullYear(),g=b.filter(a=>{let b=a.saleDate?.toDate();return b&&b.getMonth()===e&&b.getFullYear()===f}).length;c(a=>({...a,totalSales:b.length,recentSales:b.slice(0,5),totalRevenue:d,salesThisMonth:g}))});a.push(d);let e=(0,i.query)((0,i.collection)(j.db,"products")),f=(0,i.onSnapshot)(e,a=>{let b=a.docs.map(a=>({id:a.id,...a.data()})),d=b.filter(a=>10>(a.stock||0));c(a=>({...a,totalProducts:b.length,lowStockProducts:d.slice(0,5)}))});return a.push(f),l(!1),()=>{a.forEach(a=>a())}},[]);let m=[{title:"Total Sales",value:b.totalSales,icon:k.JBW,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{title:"Total Products",value:b.totalProducts,icon:k.lPX,color:"from-green-500 to-green-600",bgColor:"bg-green-50 dark:bg-green-900/20"},{title:"Sales This Month",value:b.salesThisMonth,icon:k.ntg,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20"},{title:"Total Revenue",value:`$${b.totalRevenue.toFixed(2)}`,icon:k.G9t,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20"}];return d?(0,e.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)(k.Ilq,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,e.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})}):(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700",children:(0,e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,e.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,e.jsx)(k.FEq,{className:"h-8 w-8 text-white"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome to ZamFlow Dashboard"}),(0,e.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Role: ",a?.role?.charAt(0).toUpperCase()+a?.role?.slice(1)]})]})]})}),(0,e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((a,b)=>{let c=a.icon;return(0,e.jsx)(h.Zp,{className:"card-hover glass-effect border-0 shadow-lg",children:(0,e.jsx)(h.Wu,{className:"p-6",children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:a.title}),(0,e.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.value})]}),(0,e.jsx)("div",{className:`w-12 h-12 ${a.bgColor} rounded-xl flex items-center justify-center`,children:(0,e.jsx)(c,{className:`h-6 w-6 bg-gradient-to-r ${a.color} bg-clip-text text-transparent`})})]})})},b)})}),(0,e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,e.jsxs)(h.Zp,{className:"card-hover glass-effect border-0 shadow-lg",children:[(0,e.jsx)(h.aR,{className:"pb-4",children:(0,e.jsxs)(h.ZB,{className:"flex items-center space-x-2",children:[(0,e.jsx)(k.zD7,{className:"h-5 w-5 text-blue-600"}),(0,e.jsx)("span",{children:"Recent Sales"})]})}),(0,e.jsx)(h.Wu,{children:b.recentSales.length>0?(0,e.jsx)("div",{className:"space-y-3",children:b.recentSales.map((a,b)=>(0,e.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:a.productName}),(0,e.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Qty: ",a.quantitySold," â€¢ Customer: ",a.customerName]})]}),(0,e.jsxs)("div",{className:"text-right",children:[(0,e.jsxs)("p",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",a.totalPrice?.toFixed(2)||"0.00"]}),(0,e.jsx)("p",{className:"text-xs text-gray-500",children:a.saleDate?.toDate().toLocaleDateString()})]})]},b))}):(0,e.jsxs)("div",{className:"text-center py-8",children:[(0,e.jsx)(k.JBW,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,e.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent sales"})]})})]}),(0,e.jsxs)(h.Zp,{className:"card-hover glass-effect border-0 shadow-lg",children:[(0,e.jsx)(h.aR,{className:"pb-4",children:(0,e.jsxs)(h.ZB,{className:"flex items-center space-x-2",children:[(0,e.jsx)(k.lPX,{className:"h-5 w-5 text-orange-600"}),(0,e.jsx)("span",{children:"Low Stock Alert"})]})}),(0,e.jsx)(h.Wu,{children:b.lowStockProducts.length>0?(0,e.jsx)("div",{className:"space-y-3",children:b.lowStockProducts.map((a,b)=>(0,e.jsxs)("div",{className:"flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-700",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:a.name}),(0,e.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["SKU: ",a.sku]})]}),(0,e.jsxs)("div",{className:"text-right",children:[(0,e.jsxs)("p",{className:"font-semibold text-orange-600 dark:text-orange-400",children:[a.stock||0," left"]}),(0,e.jsx)("p",{className:"text-xs text-orange-500",children:"Low stock!"})]})]},b))}):(0,e.jsxs)("div",{className:"text-center py-8",children:[(0,e.jsx)(k.lPX,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,e.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"All products well stocked"})]})})]})]})]})};d()}catch(a){d(a)}})},2015:a=>{a.exports=require("react")},2052:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{cn:()=>h});var e=c(802),f=c(5979),g=a([e,f]);function h(...a){return(0,f.twMerge)((0,e.clsx)(a))}[e,f]=g.then?(await g)():g,d()}catch(a){d(a)}})},3873:a=>{a.exports=require("path")},4022:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{db:()=>k});var e=c(6551),f=c(6958),g=c(4337),h=a([e,f,g]);[e,f,g]=h.then?(await h)():h;let i={apiKey:process.env.REACT_APP_FIREBASE_API_KEY,authDomain:process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:process.env.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.REACT_APP_FIREBASE_APP_ID},j=(0,e.initializeApp)(i);(0,f.getAuth)(j);let k=(0,g.getFirestore)(j);d()}catch(a){d(a)}})},4337:a=>{a.exports=import("firebase/firestore")},5979:a=>{a.exports=import("tailwind-merge")},6060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},6339:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{Wu:()=>l,ZB:()=>k,Zp:()=>i,aR:()=>j});var e=c(8732),f=c(2015),g=c(2052),h=a([g]);g=(h.then?(await h)():h)[0];let i=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...b}));i.displayName="Card";let j=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("flex flex-col space-y-1.5 p-6",a),...b}));j.displayName="CardHeader";let k=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("font-semibold leading-none tracking-tight",a),...b}));k.displayName="CardTitle",f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("text-sm text-muted-foreground",a),...b})).displayName="CardDescription";let l=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("p-6 pt-0",a),...b}));l.displayName="CardContent",f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter",d()}catch(a){d(a)}})},6551:a=>{a.exports=import("firebase/app")},6958:a=>{a.exports=import("firebase/auth")},8732:a=>{a.exports=require("react/jsx-runtime")},8999:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>s,default:()=>o,getServerSideProps:()=>r,getStaticPaths:()=>q,getStaticProps:()=>p,handler:()=>A,reportWebVitals:()=>t,routeModule:()=>z,unstable_getServerProps:()=>x,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>u});var e=c(3885),f=c(237),g=c(1413),h=c(3317),i=c.n(h),j=c(6195),k=c.n(j),l=c(1514),m=c(2289),n=a([l]);l=(n.then?(await n)():n)[0];let o=(0,g.M)(l,"default"),p=(0,g.M)(l,"getStaticProps"),q=(0,g.M)(l,"getStaticPaths"),r=(0,g.M)(l,"getServerSideProps"),s=(0,g.M)(l,"config"),t=(0,g.M)(l,"reportWebVitals"),u=(0,g.M)(l,"unstable_getStaticProps"),v=(0,g.M)(l,"unstable_getStaticPaths"),w=(0,g.M)(l,"unstable_getStaticParams"),x=(0,g.M)(l,"unstable_getServerProps"),y=(0,g.M)(l,"unstable_getServerSideProps"),z=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/Dashboard",pathname:"/Dashboard",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:k(),Document:i()},userland:l}),A=(0,m.U)({srcPage:"/Dashboard",config:s,userland:l,routeModule:z,getStaticPaths:q,getStaticProps:p,getServerSideProps:r});d()}catch(a){d(a)}})}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[317,871,302],()=>b(b.s=8999));module.exports=c})();