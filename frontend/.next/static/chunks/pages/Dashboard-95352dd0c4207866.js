(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[28],{303:(e,t,a)=>{"use strict";a.d(t,{db:()=>n});var s=a(6042),r=a(6559),l=a(2964),c=a(5364);let d={apiKey:c.env.REACT_APP_FIREBASE_API_KEY,authDomain:c.env.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:c.env.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:c.env.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:c.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:c.env.REACT_APP_FIREBASE_APP_ID},o=(0,s.Wp)(d);(0,r.xI)(o);let n=(0,l.aU)(o)},1180:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},2104:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},3243:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(9241),r=a(9573);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},3916:(e,t,a)=>{"use strict";a.d(t,{A:()=>l}),a(7876);var s=a(4232);a(6559),a(2964),a(303);let r=(0,s.createContext)({}),l=()=>{let e=(0,s.useContext)(r);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},4893:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},5069:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},5116:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var s=a(3576),r=a(2701),l=a(7876),c=a(4232),d=a(3916),o=a(8666),n=a(2964),i=a(303),x=a(2104),m=a(5069),h=a(1180),u=a(4893),g=a(7963);let p=(0,g.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),N=(0,g.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var f=a(9247);let v=()=>{var e,t;let{userProfile:a}=(0,d.A)(),[g,v]=(0,c.useState)({totalSales:0,totalProducts:0,recentSales:[],lowStockProducts:[],totalRevenue:0,salesThisMonth:0}),[y,j]=(0,c.useState)(!0);(0,c.useEffect)(()=>{let e=[],t=(0,n.P)((0,n.rJ)(i.db,"sales"),(0,n.My)("saleDate","desc")),a=(0,n.aQ)(t,e=>{let t=e.docs.map(e=>(0,s._)({id:e.id},e.data())),a=t.reduce((e,t)=>e+(t.totalPrice||0),0),l=new Date().getMonth(),c=new Date().getFullYear(),d=t.filter(e=>{var t;let a=null==(t=e.saleDate)?void 0:t.toDate();return a&&a.getMonth()===l&&a.getFullYear()===c}).length;v(e=>(0,r._)((0,s._)({},e),{totalSales:t.length,recentSales:t.slice(0,5),totalRevenue:a,salesThisMonth:d}))});e.push(a);let l=(0,n.P)((0,n.rJ)(i.db,"products")),c=(0,n.aQ)(l,e=>{let t=e.docs.map(e=>(0,s._)({id:e.id},e.data())),a=t.filter(e=>10>(e.stock||0));v(e=>(0,r._)((0,s._)({},e),{totalProducts:t.length,lowStockProducts:a.slice(0,5)}))});return e.push(c),j(!1),()=>{e.forEach(e=>e())}},[]);let b=[{title:"Total Sales",value:g.totalSales,icon:x.A,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{title:"Total Products",value:g.totalProducts,icon:m.A,color:"from-green-500 to-green-600",bgColor:"bg-green-50 dark:bg-green-900/20"},{title:"Sales This Month",value:g.salesThisMonth,icon:h.A,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20"},{title:"Total Revenue",value:"$".concat(g.totalRevenue.toFixed(2)),icon:u.A,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20"}];return y?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(p,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700",children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,l.jsx)(N,{className:"h-8 w-8 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome to ZamFlow Dashboard"}),(0,l.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Role: ",(null==a||null==(e=a.role)?void 0:e.charAt(0).toUpperCase())+(null==a||null==(t=a.role)?void 0:t.slice(1))]})]})]})}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:b.map((e,t)=>{let a=e.icon;return(0,l.jsx)(o.Zp,{className:"card-hover glass-effect border-0 shadow-lg",children:(0,l.jsx)(o.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e.title}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.value})]}),(0,l.jsx)("div",{className:"w-12 h-12 ".concat(e.bgColor," rounded-xl flex items-center justify-center"),children:(0,l.jsx)(a,{className:"h-6 w-6 bg-gradient-to-r ".concat(e.color," bg-clip-text text-transparent")})})]})})},t)})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(o.Zp,{className:"card-hover glass-effect border-0 shadow-lg",children:[(0,l.jsx)(o.aR,{className:"pb-4",children:(0,l.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,l.jsx)(f.A,{className:"h-5 w-5 text-blue-600"}),(0,l.jsx)("span",{children:"Recent Sales"})]})}),(0,l.jsx)(o.Wu,{children:g.recentSales.length>0?(0,l.jsx)("div",{className:"space-y-3",children:g.recentSales.map((e,t)=>{var a,s;return(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.productName}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Qty: ",e.quantitySold," â€¢ Customer: ",e.customerName]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",(null==(a=e.totalPrice)?void 0:a.toFixed(2))||"0.00"]}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:null==(s=e.saleDate)?void 0:s.toDate().toLocaleDateString()})]})]},t)})}):(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(x.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,l.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent sales"})]})})]}),(0,l.jsxs)(o.Zp,{className:"card-hover glass-effect border-0 shadow-lg",children:[(0,l.jsx)(o.aR,{className:"pb-4",children:(0,l.jsxs)(o.ZB,{className:"flex items-center space-x-2",children:[(0,l.jsx)(m.A,{className:"h-5 w-5 text-orange-600"}),(0,l.jsx)("span",{children:"Low Stock Alert"})]})}),(0,l.jsx)(o.Wu,{children:g.lowStockProducts.length>0?(0,l.jsx)("div",{className:"space-y-3",children:g.lowStockProducts.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-700",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["SKU: ",e.sku]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"font-semibold text-orange-600 dark:text-orange-400",children:[e.stock||0," left"]}),(0,l.jsx)("p",{className:"text-xs text-orange-500",children:"Low stock!"})]})]},t))}):(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(m.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),(0,l.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"All products well stocked"})]})})]})]})]})}},8666:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>x,ZB:()=>i,Zp:()=>o,aR:()=>n});var s=a(3576),r=a(5699),l=a(7876),c=a(4232),d=a(3243);let o=c.forwardRef((e,t)=>{var{className:a}=e,c=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,s._)({ref:t,className:(0,d.cn)("rounded-xl border bg-card text-card-foreground shadow",a)},c))});o.displayName="Card";let n=c.forwardRef((e,t)=>{var{className:a}=e,c=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,s._)({ref:t,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a)},c))});n.displayName="CardHeader";let i=c.forwardRef((e,t)=>{var{className:a}=e,c=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,s._)({ref:t,className:(0,d.cn)("font-semibold leading-none tracking-tight",a)},c))});i.displayName="CardTitle",c.forwardRef((e,t)=>{var{className:a}=e,c=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,s._)({ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a)},c))}).displayName="CardDescription";let x=c.forwardRef((e,t)=>{var{className:a}=e,c=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,s._)({ref:t,className:(0,d.cn)("p-6 pt-0",a)},c))});x.displayName="CardContent",c.forwardRef((e,t)=>{var{className:a}=e,c=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,s._)({ref:t,className:(0,d.cn)("flex items-center p-6 pt-0",a)},c))}).displayName="CardFooter"},8716:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Dashboard",function(){return a(5116)}])},9247:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])}},e=>{e.O(0,[659,20,840,636,593,792],()=>e(e.s=8716)),_N_E=e.O()}]);