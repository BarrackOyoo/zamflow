(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[280],{303:(e,a,s)=>{"use strict";s.d(a,{db:()=>c});var t=s(6042),r=s(6559),l=s(2964),d=s(5364);let n={apiKey:d.env.REACT_APP_FIREBASE_API_KEY,authDomain:d.env.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:d.env.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:d.env.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:d.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:d.env.REACT_APP_FIREBASE_APP_ID},i=(0,t.Wp)(n);(0,r.xI)(i);let c=(0,l.aU)(i)},860:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Analytics",function(){return s(3449)}])},3243:(e,a,s)=>{"use strict";s.d(a,{cn:()=>l});var t=s(9241),r=s(9573);function l(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}},3449:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>P});var t=s(3576),r=s(2701),l=s(7876),d=s(4232),n=s(8666),i=s(6720),c=s(2964),o=s(303),x=s(4007),m=s(5907),h=s(4069),f=s(570),u=s(178),j=s(7609),p=s(445),N=s(2320),y=s(2347),g=s(7075),v=s(2470),w=s(8246),_=s(6762),b=s(4893),A=s(1180),R=s(4041),E=s(6293);let P=()=>{let[e,a]=(0,d.useState)([]),[s,P]=(0,d.useState)([]),[k,D]=(0,d.useState)("30"),[S,C]=(0,d.useState)(!0);(0,d.useEffect)(()=>{let e=[],s=(0,c.P)((0,c.rJ)(o.db,"sales"),(0,c.My)("saleDate","desc")),l=(0,c.aQ)(s,e=>{a(e.docs.map(e=>{var a;return(0,r._)((0,t._)({id:e.id},e.data()),{saleDate:null==(a=e.data().saleDate)?void 0:a.toDate()})}))});e.push(l);let d=(0,c.P)((0,c.rJ)(o.db,"products")),n=(0,c.aQ)(d,e=>{P(e.docs.map(e=>(0,t._)({id:e.id},e.data())))});return e.push(n),C(!1),()=>{e.forEach(e=>e())}},[]);let T=(()=>{if("all"===k)return e;let a=parseInt(k),s=new Date;return s.setDate(s.getDate()-a),e.filter(e=>e.saleDate&&e.saleDate>=s)})(),I=(()=>{let e={};return T.forEach(a=>{if(a.saleDate){let s=a.saleDate.toISOString().split("T")[0];e[s]||(e[s]=0),e[s]+=a.totalPrice||0}}),Object.entries(e).sort((e,a)=>{let[s]=e,[t]=a;return s.localeCompare(t)}).map(e=>{let[a,s]=e;return{date:new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:s}})})(),W=(()=>{let e={};return T.forEach(a=>{let s=a.productName;e[s]||(e[s]={name:s,quantity:0,revenue:0}),e[s].quantity+=a.quantitySold||0,e[s].revenue+=a.totalPrice||0}),Object.values(e).sort((e,a)=>a.quantity-e.quantity).slice(0,5)})(),F=(()=>{let e={};return T.forEach(a=>{var s;let t=(null==(s=a.salespersonEmail)?void 0:s.split("@")[0])||"Unknown";e[t]||(e[t]={name:t,sales:0,revenue:0}),e[t].sales+=1,e[t].revenue+=a.totalPrice||0}),Object.values(e)})(),Z=T.reduce((e,a)=>e+(a.totalPrice||0),0),B=T.length,q=B>0?Z/B:0,K=["#8884d8","#82ca9d","#ffc658","#ff7300","#0088fe"];return S?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(_.A,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading analytics..."})]})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-100 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-2xl p-6 border border-teal-200 dark:border-teal-700",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-xl flex items-center justify-center",children:(0,l.jsx)(_.A,{className:"h-8 w-8 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Sales Analytics"}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive insights into your sales performance"})]})]}),(0,l.jsxs)(i.l6,{value:k,onValueChange:D,children:[(0,l.jsx)(i.bq,{className:"w-40",children:(0,l.jsx)(i.yv,{})}),(0,l.jsxs)(i.gC,{children:[(0,l.jsx)(i.eb,{value:"7",children:"Last 7 Days"}),(0,l.jsx)(i.eb,{value:"30",children:"Last 30 Days"}),(0,l.jsx)(i.eb,{value:"90",children:"Last 90 Days"}),(0,l.jsx)(i.eb,{value:"all",children:"All Time"})]})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsx)(n.Zp,{className:"glass-effect border-0 shadow-lg",children:(0,l.jsx)(n.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",Z.toFixed(2)]})]}),(0,l.jsx)(b.A,{className:"h-8 w-8 text-green-500"})]})})}),(0,l.jsx)(n.Zp,{className:"glass-effect border-0 shadow-lg",children:(0,l.jsx)(n.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Sales"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:B})]}),(0,l.jsx)(A.A,{className:"h-8 w-8 text-blue-500"})]})})}),(0,l.jsx)(n.Zp,{className:"glass-effect border-0 shadow-lg",children:(0,l.jsx)(n.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Order Value"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",q.toFixed(2)]})]}),(0,l.jsx)(R.A,{className:"h-8 w-8 text-purple-500"})]})})}),(0,l.jsx)(n.Zp,{className:"glass-effect border-0 shadow-lg",children:(0,l.jsx)(n.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Products"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.length})]}),(0,l.jsx)(E.A,{className:"h-8 w-8 text-orange-500"})]})})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(n.Zp,{className:"glass-effect border-0 shadow-lg",children:[(0,l.jsx)(n.aR,{children:(0,l.jsx)(n.ZB,{children:"Daily Revenue Trend"})}),(0,l.jsx)(n.Wu,{children:(0,l.jsx)("div",{className:"h-80",children:(0,l.jsx)(x.u,{width:"100%",height:"100%",children:(0,l.jsxs)(m.b,{data:I,children:[(0,l.jsx)(h.d,{strokeDasharray:"3 3"}),(0,l.jsx)(f.W,{dataKey:"date"}),(0,l.jsx)(u.h,{}),(0,l.jsx)(j.m,{formatter:e=>["$".concat(e.toFixed(2)),"Revenue"]}),(0,l.jsx)(p.N,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2,dot:{fill:"#8884d8",strokeWidth:2}})]})})})})]}),(0,l.jsxs)(n.Zp,{className:"glass-effect border-0 shadow-lg",children:[(0,l.jsx)(n.aR,{children:(0,l.jsx)(n.ZB,{children:"Top 5 Best-Selling Products"})}),(0,l.jsx)(n.Wu,{children:(0,l.jsx)("div",{className:"h-80",children:(0,l.jsx)(x.u,{width:"100%",height:"100%",children:(0,l.jsxs)(N.E,{data:W,children:[(0,l.jsx)(h.d,{strokeDasharray:"3 3"}),(0,l.jsx)(f.W,{dataKey:"name"}),(0,l.jsx)(u.h,{}),(0,l.jsx)(j.m,{}),(0,l.jsx)(y.y,{dataKey:"quantity",fill:"#82ca9d"})]})})})})]}),(0,l.jsxs)(n.Zp,{className:"glass-effect border-0 shadow-lg",children:[(0,l.jsx)(n.aR,{children:(0,l.jsx)(n.ZB,{children:"Sales by Salesperson"})}),(0,l.jsx)(n.Wu,{children:(0,l.jsx)("div",{className:"h-80",children:(0,l.jsx)(x.u,{width:"100%",height:"100%",children:(0,l.jsxs)(g.r,{children:[(0,l.jsx)(v.F,{data:F,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:a,percent:s}=e;return"".concat(a," (").concat((100*s).toFixed(0),"%)")},outerRadius:80,fill:"#8884d8",dataKey:"revenue",children:F.map((e,a)=>(0,l.jsx)(w.f,{fill:K[a%K.length]},"cell-".concat(a)))}),(0,l.jsx)(j.m,{formatter:e=>["$".concat(e.toFixed(2)),"Revenue"]})]})})})})]}),(0,l.jsxs)(n.Zp,{className:"glass-effect border-0 shadow-lg",children:[(0,l.jsx)(n.aR,{children:(0,l.jsx)(n.ZB,{children:"Revenue by Salesperson"})}),(0,l.jsx)(n.Wu,{children:(0,l.jsx)("div",{className:"h-80",children:(0,l.jsx)(x.u,{width:"100%",height:"100%",children:(0,l.jsxs)(N.E,{data:F,children:[(0,l.jsx)(h.d,{strokeDasharray:"3 3"}),(0,l.jsx)(f.W,{dataKey:"name"}),(0,l.jsx)(u.h,{}),(0,l.jsx)(j.m,{formatter:e=>["$".concat(e.toFixed(2)),"Revenue"]}),(0,l.jsx)(y.y,{dataKey:"revenue",fill:"#ffc658"})]})})})})]})]})]})}},6720:(e,a,s)=>{"use strict";s.d(a,{bq:()=>u,eb:()=>y,gC:()=>N,l6:()=>h,yv:()=>f});var t=s(3576),r=s(2701),l=s(5699),d=s(7876),n=s(4232),i=s(6942),c=s(8725),o=s(6076),x=s(2257),m=s(3243);let h=i.bL;i.YJ;let f=i.WT,u=n.forwardRef((e,a)=>{var{className:s,children:n}=e,o=(0,l._)(e,["className","children"]);return(0,d.jsxs)(i.l9,(0,r._)((0,t._)({ref:a,className:(0,m.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s)},o),{children:[n,(0,d.jsx)(i.In,{asChild:!0,children:(0,d.jsx)(c.A,{className:"h-4 w-4 opacity-50"})})]}))});u.displayName=i.l9.displayName;let j=n.forwardRef((e,a)=>{var{className:s}=e,n=(0,l._)(e,["className"]);return(0,d.jsx)(i.PP,(0,r._)((0,t._)({ref:a,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",s)},n),{children:(0,d.jsx)(o.A,{className:"h-4 w-4"})}))});j.displayName=i.PP.displayName;let p=n.forwardRef((e,a)=>{var{className:s}=e,n=(0,l._)(e,["className"]);return(0,d.jsx)(i.wn,(0,r._)((0,t._)({ref:a,className:(0,m.cn)("flex cursor-default items-center justify-center py-1",s)},n),{children:(0,d.jsx)(c.A,{className:"h-4 w-4"})}))});p.displayName=i.wn.displayName;let N=n.forwardRef((e,a)=>{var{className:s,children:n,position:c="popper"}=e,o=(0,l._)(e,["className","children","position"]);return(0,d.jsx)(i.ZL,{children:(0,d.jsxs)(i.UC,(0,r._)((0,t._)({ref:a,className:(0,m.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:c},o),{children:[(0,d.jsx)(j,{}),(0,d.jsx)(i.LM,{className:(0,m.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,d.jsx)(p,{})]}))})});N.displayName=i.UC.displayName,n.forwardRef((e,a)=>{var{className:s}=e,r=(0,l._)(e,["className"]);return(0,d.jsx)(i.JU,(0,t._)({ref:a,className:(0,m.cn)("px-2 py-1.5 text-sm font-semibold",s)},r))}).displayName=i.JU.displayName;let y=n.forwardRef((e,a)=>{var{className:s,children:n}=e,c=(0,l._)(e,["className","children"]);return(0,d.jsxs)(i.q7,(0,r._)((0,t._)({ref:a,className:(0,m.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s)},c),{children:[(0,d.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(i.VF,{children:(0,d.jsx)(x.A,{className:"h-4 w-4"})})}),(0,d.jsx)(i.p4,{children:n})]}))});y.displayName=i.q7.displayName,n.forwardRef((e,a)=>{var{className:s}=e,r=(0,l._)(e,["className"]);return(0,d.jsx)(i.wv,(0,t._)({ref:a,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",s)},r))}).displayName=i.wv.displayName},8666:(e,a,s)=>{"use strict";s.d(a,{Wu:()=>x,ZB:()=>o,Zp:()=>i,aR:()=>c});var t=s(3576),r=s(5699),l=s(7876),d=s(4232),n=s(3243);let i=d.forwardRef((e,a)=>{var{className:s}=e,d=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:a,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",s)},d))});i.displayName="Card";let c=d.forwardRef((e,a)=>{var{className:s}=e,d=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s)},d))});c.displayName="CardHeader";let o=d.forwardRef((e,a)=>{var{className:s}=e,d=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:a,className:(0,n.cn)("font-semibold leading-none tracking-tight",s)},d))});o.displayName="CardTitle",d.forwardRef((e,a)=>{var{className:s}=e,d=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s)},d))}).displayName="CardDescription";let x=d.forwardRef((e,a)=>{var{className:s}=e,d=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:a,className:(0,n.cn)("p-6 pt-0",s)},d))});x.displayName="CardContent",d.forwardRef((e,a)=>{var{className:s}=e,d=(0,r._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",s)},d))}).displayName="CardFooter"}},e=>{e.O(0,[659,20,840,0,689,238,636,593,792],()=>e(e.s=860)),_N_E=e.O()}]);